# Вступительное испытание на стажировку в группу интеграции аппаратных платформ Biocad
## Задание

Необходимо написать сервис на языке golang который будет реализовывать следующие функции:
* брать конфиги(host,port,password и т.д.) для соединения с БД (бд на выбор) а так же адрес директории
* периодически осматривать директорию на наличие новых не обработанных еще файлов (.tsv) (вероятно держать в базе список уже обработанных) (см. лист "Исходные данные")
* обработку файлов ставить в очередь
* обработка файла - нужно распарсить .tsv и положить в соответствующую структуру (формат файла статичный, поля/количество не меняется)
* данные из файла поместить в БД
* после обработки файла и записи в БД нужно сформировать файл(rtf,doc,pdf на выбор) с названием из поля *unit_guid* в входном файле, с данными по этому *unit_guid*
* ошибки парсинга (например не соответсвие файла) - тоже записывать в БД и файл
* выходные файлы размещать в отдельной директории
* сделать API-интерфейс который позволит получать из БД данные с пагинацией (page/limit) для получения данных по *unit_guid*

Примечание: *unit_guid* - это некий уникальный идентификатор устройства, в файле содержатся строки описывающие множество устройств

## Описание решения

В качестве базы данных была выбрана PostgreSQL, а очередь обработки файлов реализована с помощью RabbitMQ, таким образом, даже если сервис выйдет из стоя, файлы сохранятся в очереди и будут обработаны.
Конфигурация сервиса находится в файлу `config.yml`
Для запуска сервиса локально достаточно выполнить команды:

    rm -r input
    rm -r output
    docker-compose up
    go mod download
    go build -o app main.go
    ./app

Также есть возможность изучить документацию API благодаря openapi в директории `api`. Для повторной генерации `swagger.json` можно выполнить команду:

    swagger generate spec -o ./api/swagger.json --scan-models

Сейчас в директориях `input` и `output` содержатся примеры файлов, которые могут быть поданы на обработку, и отчётов, сформированных в результате обработки.
На странице "Исходные данные" описания тестового задания некоторые столбцы не были заполнены, но в задании было уточнено, что количество полей не меняется, поэтому все строки в директории input заполнены.
